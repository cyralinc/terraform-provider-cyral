# cyral_integration_idp_saml (Resource)

Manages SAML IdP integrations.

~> **Warning** This resource manages the completion of a SAML IdP integration
draft. SAML drafts are managed by `cyral_integration_idp_saml_draft`. In the
Cyral API, if an integration is deleted, the associated SAML draft is also
deleted. Therefore, do not destroy this resource without destroying the
associated SAML draft in the same `terraform apply` or `terraform destroy`
operation. Otherwise, the Terraform state will become inconsistent with the
state of the Cyral API. If you reached this inconsistent state, running
`terraform apply` again solves the problem.

## Example Usage

```terraform
resource "cyral_integration_idp_saml_draft" "example_draft" {
  display_name = "example-okta-integration"
  idp_type     = "okta"
}

# Here goes IdP provider configuration to obtain SAML
# metadata. Use the attribute `sp_metadata` of the SAML
# draft above to obtain the Cyral SP SAML metadata you will
# need to provide your IdP with.
#
# ...
##

resource "cyral_integration_idp_saml" "example_integration" {
  saml_draft_id = cyral_integration_idp_saml_draft.example_draft.id
  # This is the IdP metadata URL. You may choose instead to
  # provide the base64-encoded metadata XML document using
  # the argument `idp_metadata_document`.
  idp_metadata_url = "https://dev-123456.okta.com/app/1234567890/sso/saml/metadata"
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

- `saml_draft_id` (String) A valid id for a SAML Draft. Must be at least 5 character long. See attribute `id` in resource `cyral_integration_idp_saml_draft`.

### Optional

- `idp_metadata_url` (String) The web address of an IdP SAML Metadata XML document. Conflicts with `idp_metadata_xml`.
- `idp_metadata_xml` (String) Full SAML metadata XML document. Must be base64 encoded. Conflicts with `idp_metadata_url`.

### Read-Only

- `id` (String) ID of this resource in the Cyral environment.
- `single_sign_on_service_url` (String) The IdPâ€™s Single Sign-on Service (SSO) URL, where Cyral SP will send SAML AuthnRequests via SAML-POST binding.
