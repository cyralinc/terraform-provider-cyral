# cyral_service_account (Resource)

Manages a Cyral Service Account (A.k.a: [Cyral API Access Key](https://cyral.com/docs/api-ref/api-intro/#api-access-key)). See also data source [`cyral_permission`](../data-sources/permission.md).

-> **Note** This resource does not support importing, since the client secret cannot be read after the resource creation.

## Example Usage

```terraform
### Service account with all permissions
data "cyral_permission" "this" {}

resource "cyral_service_account" "this" {
  display_name = "cyral-service-account-1"
  permission_ids = [
    for p in data.cyral_permission.this.permission_list: p.id
  ]
}

output "client_id" {
  value = cyral_service_account.this.client_id
}

output "client_secret" {
  sensitive = true
  value = cyral_service_account.this.client_secret
}

### Service account with specific permissions
data "cyral_permission" "this" {}

locals {
  saPermissions = [
		"Modify Policies",
		"Modify Integrations",
  ]
}

resource "cyral_service_account" "this" {
  display_name = "cyral-service-account-1"
  permission_ids = [
    for p in data.cyral_permission.this.permission_list: p.id
    if contains(local.saPermissions, p.name)
  ]
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

-   `display_name` (String) The service account display name.
-   `permission_ids` (Set of String) A list of permission IDs that will be assigned to this service account. See also data source [`cyral_permission`](../data-sources/permission.md).

### Read-Only

-   `client_id` (String) The service account client ID.
-   `client_secret` (String, Sensitive) The service account client secret. **Note**: This resource is not able to recognize changes to the client secret after its creation, so keep in mind that if the client secret is rotated, the value present in this attribute will be outdated. If you need to rotate the client secret it's recommended that you recreate this terraform resource.
-   `id` (String) The resource identifier. It's equal to `client_id`.
