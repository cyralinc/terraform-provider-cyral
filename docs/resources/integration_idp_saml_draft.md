# cyral_integration_idp_saml_draft (Resource)

Manages SAML IdP integration drafts.

~> **NOTE** If using this resource in conjunction with
`cyral_integration_idp_saml`, please see **NOTE** at the beginning of
[cyral_integration_idp_saml](./cyral_integration_idp_saml.md).

## Example Usage

```terraform
resource "cyral_integration_idp_saml_draft" "example_draft" {
	 display_name = "example-okta-integration"
	 idp_type     = "okta"
}

# Here goes IdP provider configuration to obtain SAML metadata
# ...
##

resource "cyral_integration_idp_saml" "example_integration" {
	 saml_draft_id = cyral_integration_idp_saml_draft.example_draft.id
	 # This is the IdP metadata URL. You may choose instead to provide the
	 # base64-encoded metadata XML document using the argument
	 # `idp_metadata_document`.
	 idp_metadata_url = "https://dev-123456.okta.com/app/1234567890/sso/saml/metadata"
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

- `display_name` (String) Display name used in the Cyral control plane.

### Optional

- `attributes` (Block Set, Max: 1) SAML Attribute names for the identity attributes required by the Cyral SP. Each attribute name MUST be at least 3 characters long. (see [below for nested schema](#nestedblock--attributes))
- `disable_idp_initiated_login` (Boolean) Whether or not IdP-Initiated login should be disabled for this generic SAML integration draft. Defaults to `false`.
- `idp_type` (String) Identity provider type. The value provided can be used as a filter when retrieving SAML integrations. See data source `cyral_integration_idp_saml`.
- `toggle_recreation` (Boolean) Internal use only. Used to recreate the resource in case it reaches an inconsistent state.

### Read-Only

- `id` (String) ID of this resource in the Cyral environment.
- `sp_metadata` (String) The SP Metadata document describing the Cyral service provider for this integration.

<a id="nestedblock--attributes"></a>

### Nested Schema for `attributes`

Optional:

- `email` (String) The name of the attribute in the incoming SAML assertion containing the users email address. Defaults to `email`.
- `first_name` (String) The name of the attribute in the incoming SAML assertion containing the users first name (given name). Defaults to `firstName`.
- `groups` (String) The name of the attribute in the incoming SAML assertion containing the users group membership in the IdP. Defaults to `memberOf`.
- `last_name` (String) The name of the attribute in the incoming SAML assertion containing the users last name (family name). Defaults to `lastName`.
