---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "cyral_repository_datamap Resource - cyral"
subcategory: ""
description: |-
  Manages Data Map https://cyral.com/docs/policy/datamap.
---

# cyral_repository_datamap (Resource)

Manages [Data Map](https://cyral.com/docs/policy/datamap).

## Example Usage

```terraform
# Create the repository
resource "cyral_repository" "example-pg" {
  name = "example-pg"
  type = "postgresql"
  host = "pg.example.com"
  port = 5432
}

# Create custom labels
resource "cyral_datalabel" "NAME" {
  name        = "NAME"
  description = "Customer name"
  tags        = ["PII"]
}

resource "cyral_datalabel" "DOB" {
  name        = "DOB"
  description = "Customer date of birth"
  tags        = ["PII"]
}

# Create data map for the repository, using the custom labels
resource "cyral_repository_datamap" "example-pg_datamap" {
  repository_id = cyral_repository.example-pg.id

  mapping {
    label = cyral_datalabel.NAME.name
    attributes = [
      "FINANCE.CUSTOMERS.FIRST_NAME",
      "FINANCE.CUSTOMERS.MIDDLE_NAME",
      "FINANCE.CUSTOMERS.LAST_NAME"
    ]
  }

  mapping {
    label = cyral_datalabel.DOB.name
    attributes = [
      "FINANCE.CUSTOMERS.DOB",
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

- `mapping` (Block Set, Min: 1) Mapping of a label to a list of data locations (attributes). (see [below for nested schema](#nestedblock--mapping))
- `repository_id` (String) ID of the repository for which to configure a data map.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--mapping"></a>

### Nested Schema for `mapping`

Required:

- `attributes` (List of String) List containing the specific locations of the data within the repo, following the pattern `{SCHEMA}.{TABLE}.{ATTRIBUTE}` (ex: `[your_schema_name.your_table_name.your_attr_name]`).

-> When referencing data in Dremio repository, please include the complete location in `attributes`, separating spaces by dots. For example, an attribute `my_attr` from table `my_tbl` within space `inner_space` within space `outer_space` would be referenced as `outer_space.inner_space.my_tbl.my_attr`. For more information, please see the [Policy Guide](https://cyral.com/docs/reference/policy/).

- `label` (String) Label given to the attributes in this mapping.
