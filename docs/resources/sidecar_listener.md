# cyral_sidecar_listener (Resource)

Manages [sidecar listeners](https://cyral.com/docs/sidecars/sidecar-listeners).

-> **NOTE** Import ID syntax is `{sidecar_id}-{listener_id}`.

## Example Usage

```terraform
### plain mySQL listener
resource "cyral_sidecar_listener" "plain_mysql" {
  sidecar_id = cyral_sidecar.SOME_SIDECAR_RESOURCE_NAME.id
  tcp_listener_port = 3306
  repo_types =["mysql"]
}

### multiplexed mySQL listener
resource "cyral_sidecar_listener" "multiplex_mysql" {
  sidecar_id = cyral_sidecar.SOME_SIDECAR_RESOURCE_NAME.id
  tcp_listener_port = 3307
  multiplexed = true
  mysql_settings_db_version = "5.7"
  repo_types =["mysql"]
}

### S3 listener, using proxy mode
resource "cyral_sidecar_listener" "s3_proxy" {
  sidecar_id = cyral_sidecar.SOME_SIDECAR_RESOURCE_NAME.id
  tcp_listener_port = 443
  s3_settings_proxy_mode = true
  repo_types =["s3"]
}

### mariaDB using unix socket istener
resource "cyral_sidecar_listener" "file_mariadb" {
  sidecar_id = cyral_sidecar.SOME_SIDECAR_RESOURCE_NAME.id
  unix_listener_file = "/var/run/mysqld/mysql.sock"
  repo_types =["mariadb"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `repo_types` (List of String) List of repository types that the listener supports. Currently limited to one repo type, eg ["mysql"]
- `sidecar_id` (String) ID of the sidecar that the listener will be bound to.

### Optional

- `dynamodb_settings_proxy_mode` (Boolean) DynamoDB proxy mode, only relevant for DynamoDB listeners. Defaults to false.
- `multiplexed` (Boolean) Multiplexed listener, defaults to not multiplexing (false). Not supported for all repository types.
- `mysql_settings_character_set` (String) MySQL character set. Optional and only relevant for multiplexed listeners of type mysql.
- `mysql_settings_db_version` (String) MySQL DB version. Required (and only relevant) for multiplexed listeners of type mysql
- `s3_settings_proxy_mode` (Boolean) S3 proxy mode, only relevant for S3 listeners. Defaults to false.
- `tcp_listener_host` (String) Host in which the sidecar will listen for the given repository. Omit to listen on all interfaces.
- `tcp_listener_port` (Number) Port in which the sidecar will listen for the given repository. Required for tcp listeners and mutual exclusive with unix_listener_file.
- `unix_listener_file` (String) File in which the sidecar will listen for the given repository. Required for unix listeners and mutual exclusive with tcp_listener_port.

### Read-Only

- `id` (String) The ID of this resource.
- `listener_id` (String) ID of the listener that will be bound to the sidecar.
