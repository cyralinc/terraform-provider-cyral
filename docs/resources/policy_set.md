# cyral_policy_set (Resource)

This resource allows management of policy sets in the Cyral platform.

-> Import ID syntax is `{policy_set_id}`.

## Example Usage

```terraform
resource "cyral_repository" "myrepo" {
    type = "mongodb"
    name = "myrepo"

    repo_node {
        name = "node-1"
        host = "mongodb.cyral.com"
        port = 27017
    }

    mongodb_settings {
      server_type = "standalone"
    }
}

resource "cyral_policy_set" "repo_lockdown_example" {
  wizard_id    = "repo-lockdown"
  name        = "default block with failopen"
  description = "This default policy will block by default all queries for myrepo except the ones not parsed by Cyral"
  enabled = true
  tags = ["default block", "fail open"]
    scope {
    repo_ids = [cyral_repository.myrepo.id]
  }
  wizard_parameters    = jsonencode({
    denyByDefault = true
    failClosed = false
    })
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Required

-   `name` (String) Name of the policy set.
-   `wizard_id` (String) The ID of the policy wizard used to create this policy set.
-   `wizard_parameters` (String) Parameters passed to the wizard while creating the policy set.

### Optional

-   `description` (String) Description of the policy set.
-   `enabled` (Boolean) Indicates if the policy set is enabled.
-   `scope` (Block List) Scope of the policy set. (see [below for nested schema](#nestedblock--scope))
-   `tags` (List of String) Tags associated with the policy set.

### Read-Only

-   `created` (Map of String) Information about when and by whom the policy set was created.
-   `id` (String) Identifier for the policy set.
-   `last_updated` (Map of String) Information about when and by whom the policy set was last updated.
-   `policies` (List of Object) List of policies that comprise the policy set. (see [below for nested schema](#nestedatt--policies))

<a id="nestedblock--scope"></a>

### Nested Schema for `scope`

Optional:

-   `repo_ids` (List of String) List of repository IDs that are in scope. Empty list means all repositories are in scope.

<a id="nestedatt--policies"></a>

### Nested Schema for `policies`

Read-Only:

-   `id` (String)
-   `type` (String)
