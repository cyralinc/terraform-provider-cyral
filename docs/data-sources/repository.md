# cyral_repository (Data Source)

Retrieves a list of repositories. See [`repository_list`](#nestedatt--repository_list).

## Example Usage

```terraform
resource "cyral_repository" "mongo-repository" {
  type = "mongodb"
  name = "tf-provider-mongo-repository"

  repo_node {
    host = "mongodb.cyral.com"
    port = 27017
  }
  mongodb_settings {
    server_type = "standalone"
  }
}

resource "cyral_repository" "mysql-repository1" {
  type = "mysql"
  name = "tf-provider-mysql-repository1"

  repo_node {
    host = "mysql.com"
    port = 3306
  }
}

resource "cyral_repository" "mysql-repository2" {
  type = "mysql"
  name = "tf-provider-mysql-repository2"

  repo_node {
    host = "mysql2.com"
    port = 3306
  }
}

data "cyral_repository" "specific-mysql-repo" {
  depends_on = [
    cyral_repository.mongo-repository,
    cyral_repository.mysql-repository1,
    cyral_repository.mysql-repository2,
  ]
  # As we have more than one MySQL repos, we need to provide
  # the name and type or just the name (repo names are unique)
  name = "tf-provider-mysql-repository1"
  type = "mysql"
}

data "cyral_repository" "all-mysql-repos" {
  depends_on = [
    cyral_repository.mongo-repository,
    cyral_repository.mysql-repository1,
    cyral_repository.mysql-repository2,
  ]
  type = "mysql"
}

output "mysql1_repo_id" {
  # Because our search is targeting a specific name that we
  # know it exists referencing index 0 is safe.
  value = data.cyral_repository.specific-mysql-repo.repository_list[0].id
}

output "all_mysql_repo_ids" {
  value = data.cyral_repository.all-mysql-repos.repository_list
}
```

<!-- schema generated by tfplugindocs -->

## Schema

### Optional

- `name` (String) Filter the results by a regular expression (regex) that matches names of existing repositories.
- `type` (String) Filter the results by type of repository. List of supported types:
  - `denodo`
  - `dremio`
  - `dynamodb`
  - `dynamodbstreams`
  - `galera`
  - `mariadb`
  - `mongodb`
  - `mysql`
  - `oracle`
  - `postgresql`
  - `redshift`
  - `s3`
  - `snowflake`
  - `sqlserver`

### Read-Only

- `id` (String) The ID of this resource.
- `repository_list` (List of Object) List of existing repositories satisfying the filter criteria. (see [below for nested schema](#nestedatt--repository_list))

<a id="nestedatt--repository_list"></a>

### Nested Schema for `repository_list`

Read-Only:

- `connection_draining` (Set of Object) (see [below for nested schema](#nestedobjatt--repository_list--connection_draining))
- `id` (String)
- `labels` (List of String)
- `mongodb_settings` (Set of Object) (see [below for nested schema](#nestedobjatt--repository_list--mongodb_settings))
- `name` (String)
- `repo_node` (List of Object) (see [below for nested schema](#nestedobjatt--repository_list--repo_node))
- `type` (String)

<a id="nestedobjatt--repository_list--connection_draining"></a>

### Nested Schema for `repository_list.connection_draining`

Read-Only:

- `auto` (Boolean)
- `wait_time` (Number)

<a id="nestedobjatt--repository_list--mongodb_settings"></a>

### Nested Schema for `repository_list.mongodb_settings`

Read-Only:

- `flavor` (String)
- `replica_set_name` (String)
- `server_type` (String)
- `srv_record_name` (String)

<a id="nestedobjatt--repository_list--repo_node"></a>

### Nested Schema for `repository_list.repo_node`

Read-Only:

- `dynamic` (Boolean)
- `host` (String)
- `name` (String)
- `port` (Number)
